<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>JSDoc: Class: Terminal</title>

    <script src="scripts/prettify/prettify.js"> </script>
    <script src="scripts/prettify/lang-css.js"> </script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>

<body>

<div id="main">

    <h1 class="page-title">Class: Terminal</h1>

    




<section>

<header>
    
        <h2><span class="attribs"><span class="type-signature"></span></span>
            <span class="ancestors"><a href="timapi.html">timapi</a>.</span>Terminal<span class="signature">(settings)</span><span class="type-signature"></span></h2>
        
            <div class="class-description"><p>Terminal base implementation. Create instance of TerminalApi
to connect to payment terminal.</p>

</div>
        
    
</header>

<article>
    <div class="container-overview">
    
        
        
        















<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















    
    </div>

    

    

    

    

    

    


    <h3 class="subsection-title">Overview</h3>

    <!-- Overview of members -->
    


    <!-- Overview of methods -->
    
        <h4 class="subsection-title">Methods-Overview</h4>
        <ul>
            
                <li><a href="timapi.Terminal.html#addEcrData">addEcrData</a></li>
            
                <li><a href="timapi.Terminal.html#addListener">addListener</a></li>
            
                <li><a href="timapi.Terminal.html#connectAsync">connectAsync</a></li>
            
                <li><a href="timapi.Terminal.html#dispose">dispose</a></li>
            
                <li><a href="timapi.Terminal.html#getEcrData">getEcrData</a></li>
            
                <li><a href="timapi.Terminal.html#getPosId">getPosId</a></li>
            
                <li><a href="timapi.Terminal.html#getPrintOptions">getPrintOptions</a></li>
            
                <li><a href="timapi.Terminal.html#getSettings">getSettings</a></li>
            
                <li><a href="timapi.Terminal.html#getTerminalId">getTerminalId</a></li>
            
                <li><a href="timapi.Terminal.html#getTerminalStatus">getTerminalStatus</a></li>
            
                <li><a href="timapi.Terminal.html#getUserId">getUserId</a></li>
            
                <li><a href="timapi.Terminal.html#removeListener">removeListener</a></li>
            
                <li><a href="timapi.Terminal.html#setEcrData">setEcrData</a></li>
            
                <li><a href="timapi.Terminal.html#setPosId">setPosId</a></li>
            
                <li><a href="timapi.Terminal.html#setPrintOptions">setPrintOptions</a></li>
            
                <li><a href="timapi.Terminal.html#setUserId">setUserId</a></li>
            
                <li><a href="timapi.Terminal.html#testFun">testFun</a></li>
            
                <li><a href="timapi.Terminal.html#transactionAsync">transactionAsync</a></li>
            
        </ul>
        <dl class="details"></dl>
    

    
    
    

    
    <h2>Constructor</h2>
    

    
    <h4 class="name" id="Terminal"><span class="type-signature"></span>new Terminal<span class="signature">(settings)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Create terminal from <a href="timapi.TerminalSettings.html">timapi.TerminalSettings</a>
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>settings</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="timapi.TerminalSettings.html">timapi.TerminalSettings</a></span>


            
            </td>

            

            

            <td class="description last"></td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>



















    <!-- List of members -->
    


    <!-- List of methods -->
    
        <h3 class="subsection-title">Methods</h3>

        
            <div class="method">
                

    

    
    <h4 class="name" id="addEcrData"><span class="type-signature"></span>addEcrData<span class="signature">(ecrInfo)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Add ECR data. Replaces ECR data of the same type, if already present.
To remove all elements use <a href="timapi.Terminal.html#setEcrData">timapi.Terminal#setEcrData</a> instead.
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ecrInfo</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="timapi.EcrInfo.html">timapi.EcrInfo</a></span>


            
            </td>

            

            

            <td class="description last">ecr information to add</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="addListener"><span class="type-signature"></span>addListener<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Register listener.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











<h5>Throws:</h5>
<ul>
        <li>

    <div class="param-desc">
    
        IllegalArgumentException listener is undefined.
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        IllegalArgumentException listener is registered.
    
    </div>

</li>
    </ul>







            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="connectAsync"><span class="type-signature"></span>connectAsync<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Initiates a connection to the EFT Terminal. Calling <a href="timapi.Terminal.html#connectAsync"><code>connectAsync</code></a>
is not needed normally, because all methods make first a connect, if not connected.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="dispose"><span class="type-signature"></span>dispose<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Dispose of terminal.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getEcrData"><span class="type-signature"></span>getEcrData<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="timapi.EcrInfo.html">timapi.EcrInfo</a>>}</span></h4>
    

    



<div class="description">
    Get ecr Data
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    ecrData
</div>



<p> Type: 
<span class="param-type">Array.&lt;<a href="timapi.EcrInfo.html">timapi.EcrInfo</a>></span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getPosId"><span class="type-signature"></span>getPosId<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Get POS identifier
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    POS identifier
</div>



<p> Type: 
<span class="param-type">String</span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getPrintOptions"><span class="type-signature"></span>getPrintOptions<span class="signature">()</span><span class="type-signature"> &rarr; {Array.&lt;<a href="timapi.PrintOption.html">timapi.PrintOption</a>>}</span></h4>
    

    



<div class="description">
    Get print options
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Print options
</div>



<p> Type: 
<span class="param-type">Array.&lt;<a href="timapi.PrintOption.html">timapi.PrintOption</a>></span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getSettings"><span class="type-signature"></span>getSettings<span class="signature">()</span><span class="type-signature"> &rarr; {<a href="timapi.TerminalSettings.html">timapi.TerminalSettings</a>}</span></h4>
    

    



<div class="description">
    Get immutable copy of terminal settings.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        


<p> Type: 
<span class="param-type"><a href="timapi.TerminalSettings.html">timapi.TerminalSettings</a></span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getTerminalId"><span class="type-signature"></span>getTerminalId<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Get terminal identifier of connected terminal. Returns empty string if the
terminal identifier is not known. The terminal identifier is available
after logging in to the terminal. The terminal identifier obtained from
the terminal is potentially different from the terminal identifier set
in the <a href="timapi.TerminalSettings.html"><code>timapi.TerminalSettings</code></a>. This is especially true if
<a href="timapi.constants.ConnectionMode.html#.onFixIp"><code>OnFixIp-Mode</code></a> is used.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    Terminal identifier
</div>



<p> Type: 
<span class="param-type">String</span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getTerminalStatus"><span class="type-signature"></span>getTerminalStatus<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Get terminal status.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="getUserId"><span class="type-signature"></span>getUserId<span class="signature">()</span><span class="type-signature"> &rarr; {String}</span></h4>
    

    



<div class="description">
    Get user identifier
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>













<h5>Returns:</h5>

        
<div class="param-desc">
    User identifier
</div>



<p> Type: 
<span class="param-type">String</span>

</p>

    





            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="removeListener"><span class="type-signature"></span>removeListener<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Unregister listener.
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>











<h5>Throws:</h5>
<ul>
        <li>

    <div class="param-desc">
    
        IllegalArgumentException listener is undefined.
    
    </div>

</li>
    
        <li>

    <div class="param-desc">
    
        IllegalArgumentException listener is not registered.
    
    </div>

</li>
    </ul>







            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="setEcrData"><span class="type-signature"></span>setEcrData<span class="signature">(ecrData)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set ecr data
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>ecrData</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="timapi.EcrInfo.html">timapi.EcrInfo</a>></span>


            
            </td>

            

            

            <td class="description last">Array of ecr data</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="setPosId"><span class="type-signature"></span>setPosId<span class="signature">(posId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set POS identifier
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>posId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">POS identifier</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="setPrintOptions"><span class="type-signature"></span>setPrintOptions<span class="signature">(printOptions)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set print options
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>printOptions</code></td>
            

            <td class="type">
            
                
<span class="param-type">Array.&lt;<a href="timapi.PrintOption.html">timapi.PrintOption</a>></span>


            
            </td>

            

            

            <td class="description last">Print options</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="setUserId"><span class="type-signature"></span>setUserId<span class="signature">(userId)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Set user identifier
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>userId</code></td>
            

            <td class="type">
            
                
<span class="param-type">String</span>


            
            </td>

            

            

            <td class="description last">User identifier</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="testFun"><span class="type-signature"></span>testFun<span class="signature">()</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Function
</div>













<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
            <div class="method">
                

    

    
    <h4 class="name" id="transactionAsync"><span class="type-signature"></span>transactionAsync<span class="signature">(type, amount)</span><span class="type-signature"></span></h4>
    

    



<div class="description">
    Starts an EFT Terminal Transaction. 
Returns immediately and calls TerminalListener#transactionCompleted 
on all notifiers once finished.
<b>Note:</b> The transaction parameters are taken from TransactionData
terminal property since those do not change often if at all (default parameters).
</div>









    <h5>Parameters:</h5>
    

<table class="params">
    <thead>
    <tr>
        
        <th>Name</th>
        

        <th>Type</th>

        

        

        <th class="last">Description</th>
    </tr>
    </thead>

    <tbody>
    

        <tr>
            
                <td class="name"><code>type</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="timapi.constants.TransactionType.html">timapi.constants.TransactionType</a></span>


            
            </td>

            

            

            <td class="description last">Financial Transaction Function.</td>
        </tr>

    

        <tr>
            
                <td class="name"><code>amount</code></td>
            

            <td class="type">
            
                
<span class="param-type"><a href="timapi.Amount.html">timapi.Amount</a></span>


            
            </td>

            

            

            <td class="description last">Transaction amount.</td>
        </tr>

    
    </tbody>
</table>






<dl class="details">

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    

    
</dl>


















            </div>
        
    

    

    

    
</article>

</section>




</div>

<nav>
    <h2><a href="index.html">Back to Implementation Guide</a></h2><h3>Classes</h3><ul><li><a href="timapi.Amount.html">timapi.Amount</a></li><li><a href="timapi.CardData.html">timapi.CardData</a></li><li><a href="timapi.CardTrackData.html">timapi.CardTrackData</a></li><li><a href="timapi.constants.AdjustmentResult.html">timapi.constants.AdjustmentResult</a></li><li><a href="timapi.constants.AdminFunctions.html">timapi.constants.AdminFunctions</a></li><li><a href="timapi.constants.BrandBarBrand.html">timapi.constants.BrandBarBrand</a></li><li><a href="timapi.constants.BrandMode.html">timapi.constants.BrandMode</a></li><li><a href="timapi.constants.CardReader.html">timapi.constants.CardReader</a></li><li><a href="timapi.constants.CardReaderStatus.html">timapi.constants.CardReaderStatus</a></li><li><a href="timapi.constants.ConnectionMode.html">timapi.constants.ConnectionMode</a></li><li><a href="timapi.constants.ConnectionStatus.html">timapi.constants.ConnectionStatus</a></li><li><a href="timapi.constants.CounterType.html">timapi.constants.CounterType</a></li><li><a href="timapi.constants.CouponRejectionReason.html">timapi.constants.CouponRejectionReason</a></li><li><a href="timapi.constants.Currency.html">timapi.constants.Currency</a></li><li><a href="timapi.constants.CurrencyType.html">timapi.constants.CurrencyType</a></li><li><a href="timapi.constants.Cvm.html">timapi.constants.Cvm</a></li><li><a href="timapi.constants.DialogFunctions.html">timapi.constants.DialogFunctions</a></li><li><a href="timapi.constants.EcrInfoType.html">timapi.constants.EcrInfoType</a></li><li><a href="timapi.constants.FinancialTransactions.html">timapi.constants.FinancialTransactions</a></li><li><a href="timapi.constants.Guides.html">timapi.constants.Guides</a></li><li><a href="timapi.constants.HardwareType.html">timapi.constants.HardwareType</a></li><li><a href="timapi.constants.ImageFileFormat.html">timapi.constants.ImageFileFormat</a></li><li><a href="timapi.constants.KernelType.html">timapi.constants.KernelType</a></li><li><a href="timapi.constants.LoyaltyFunctionType.html">timapi.constants.LoyaltyFunctionType</a></li><li><a href="timapi.constants.ManagementStatus.html">timapi.constants.ManagementStatus</a></li><li><a href="timapi.constants.MerchantAction.html">timapi.constants.MerchantAction</a></li><li><a href="timapi.constants.MerchantOptionType.html">timapi.constants.MerchantOptionType</a></li><li><a href="timapi.constants.NgvMode.html">timapi.constants.NgvMode</a></li><li><a href="timapi.constants.NonFinancialTransactions.html">timapi.constants.NonFinancialTransactions</a></li><li><a href="timapi.constants.PaymentProtocol.html">timapi.constants.PaymentProtocol</a></li><li><a href="timapi.constants.PosEntryMode.html">timapi.constants.PosEntryMode</a></li><li><a href="timapi.constants.PrintFlag.html">timapi.constants.PrintFlag</a></li><li><a href="timapi.constants.PrintFormat.html">timapi.constants.PrintFormat</a></li><li><a href="timapi.constants.ProcessingDisposition.html">timapi.constants.ProcessingDisposition</a></li><li><a href="timapi.constants.ProtocolLevel.html">timapi.constants.ProtocolLevel</a></li><li><a href="timapi.constants.ProtocolType.html">timapi.constants.ProtocolType</a></li><li><a href="timapi.constants.Reason.html">timapi.constants.Reason</a></li><li><a href="timapi.constants.ReceiptItemType.html">timapi.constants.ReceiptItemType</a></li><li><a href="timapi.constants.ReceiptRequestType.html">timapi.constants.ReceiptRequestType</a></li><li><a href="timapi.constants.ReceiptType.html">timapi.constants.ReceiptType</a></li><li><a href="timapi.constants.Recipient.html">timapi.constants.Recipient</a></li><li><a href="timapi.constants.RequestType.html">timapi.constants.RequestType</a></li><li><a href="timapi.constants.ResourceId.html">timapi.constants.ResourceId</a></li><li><a href="timapi.constants.ResourceParameterType.html">timapi.constants.ResourceParameterType</a></li><li><a href="timapi.constants.ResponseType.html">timapi.constants.ResponseType</a></li><li><a href="timapi.constants.ResultCode.html">timapi.constants.ResultCode</a></li><li><a href="timapi.constants.SecurityStatus.html">timapi.constants.SecurityStatus</a></li><li><a href="timapi.constants.SettingType.html">timapi.constants.SettingType</a></li><li><a href="timapi.constants.SleepModeStatus.html">timapi.constants.SleepModeStatus</a></li><li><a href="timapi.constants.StatusFunctions.html">timapi.constants.StatusFunctions</a></li><li><a href="timapi.constants.Theme.html">timapi.constants.Theme</a></li><li><a href="timapi.constants.TransactionStatus.html">timapi.constants.TransactionStatus</a></li><li><a href="timapi.constants.TransactionType.html">timapi.constants.TransactionType</a></li><li><a href="timapi.constants.UpdateStatus.html">timapi.constants.UpdateStatus</a></li><li><a href="timapi.DefaultTerminalListener.html">timapi.DefaultTerminalListener</a></li><li><a href="timapi.EcrInfo.html">timapi.EcrInfo</a></li><li><a href="timapi.LogRecord.html">timapi.LogRecord</a></li><li><a href="timapi.LogRecord.LogLevel.html">timapi.LogRecord.LogLevel</a></li><li><a href="timapi.MerchantOption.html">timapi.MerchantOption</a></li><li><a href="timapi.PrintData.html">timapi.PrintData</a></li><li><a href="timapi.PrintOption.html">timapi.PrintOption</a></li><li><a href="timapi.Receipt.html">timapi.Receipt</a></li><li><a href="timapi.ReceiptItem.html">timapi.ReceiptItem</a></li><li><a href="timapi.ReceiptItems.html">timapi.ReceiptItems</a></li><li><a href="timapi.SignatureInformation.html">timapi.SignatureInformation</a></li><li><a href="timapi.Terminal.html">timapi.Terminal</a></li><li><a href="timapi.TerminalSettings.html">timapi.TerminalSettings</a></li><li><a href="timapi.TerminalStatus.html">timapi.TerminalStatus</a></li><li><a href="timapi.TimeDate.html">timapi.TimeDate</a></li><li><a href="timapi.TimEvent.html">timapi.TimEvent</a></li><li><a href="timapi.TimException.html">timapi.TimException</a></li><li><a href="timapi.TransactionData.html">timapi.TransactionData</a></li><li><a href="timapi.TransactionInformation.html">timapi.TransactionInformation</a></li><li><a href="timapi.TransactionRequest.html">timapi.TransactionRequest</a></li><li><a href="timapi.TransactionResponse.html">timapi.TransactionResponse</a></li></ul><h3>Namespaces</h3><ul><li><a href="timapi.html">timapi</a></li><li><a href="timapi.constants.html">timapi.constants</a></li></ul>
</nav>

<br class="clear">

<script> prettyPrint(); </script>
<script src="scripts/linenumber.js"> </script>
</body>
</html>