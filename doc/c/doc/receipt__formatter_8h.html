<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIM SDK: src/receipt_formatter.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="sdk_version.js"></script>
<script type="text/javascript" src="api_version.js"></script>
<script type="text/javascript" src="tim_inject.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="TIM SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIM SDK
   </div>
   <div id="projectbrief">TIM API C</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
               
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('receipt__formatter_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#nested-classes">Data Structures</a> &#124;
<a href="#typedef-members">Typedefs</a> &#124;
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">receipt_formatter.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Receipt formatter. </p>
<p>Object type <em>receipt_formatter</em>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="nested-classes"></a>
Data Structures</h2></td></tr>
<tr class="memitem:"><td class="memItemLeft" align="right" valign="top">struct &#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="structta__s__receipt__formatter.html">ta_s_receipt_formatter</a></td></tr>
<tr class="memdesc:"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct knowing how to format transaction receipts using receipt item fields.  <a href="structta__s__receipt__formatter.html#details">More...</a><br /></td></tr>
<tr class="separator:"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="typedef-members"></a>
Typedefs</h2></td></tr>
<tr class="memitem:a4efade549f7b2df6a2052dadee44d6f2"><td class="memItemLeft" align="right" valign="top">typedef <a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>(*&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receipt__formatter_8h.html#a4efade549f7b2df6a2052dadee44d6f2">ta_cb_receipt_formatter_format_receipt</a>) (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> terminal, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> receipt_items, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> receipts, void *user_pointer)</td></tr>
<tr class="memdesc:a4efade549f7b2df6a2052dadee44d6f2"><td class="mdescLeft">&#160;</td><td class="mdescRight">Format receipt using the provided fields.  <a href="#a4efade549f7b2df6a2052dadee44d6f2">More...</a><br /></td></tr>
<tr class="separator:a4efade549f7b2df6a2052dadee44d6f2"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a989762a7c404f0bc555cffb1ee1548f3"><td class="memItemLeft" align="right" valign="top">typedef struct <a class="el" href="structta__s__receipt__formatter.html">ta_s_receipt_formatter</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receipt__formatter_8h.html#a989762a7c404f0bc555cffb1ee1548f3">ta_s_receipt_formatter_t</a></td></tr>
<tr class="memdesc:a989762a7c404f0bc555cffb1ee1548f3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Struct knowing how to format transaction receipts using receipt item fields.  <a href="#a989762a7c404f0bc555cffb1ee1548f3">More...</a><br /></td></tr>
<tr class="separator:a989762a7c404f0bc555cffb1ee1548f3"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:aba7e8ff6b8bece452b2face92f437586"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="receipt__formatter_8h.html#aba7e8ff6b8bece452b2face92f437586">ta_receipt_formatter_create</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *formatter, const <a class="el" href="receipt__formatter_8h.html#a989762a7c404f0bc555cffb1ee1548f3">ta_s_receipt_formatter_t</a> *configuration)</td></tr>
<tr class="memdesc:aba7e8ff6b8bece452b2face92f437586"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create receipt formatter.  <a href="#aba7e8ff6b8bece452b2face92f437586">More...</a><br /></td></tr>
<tr class="separator:aba7e8ff6b8bece452b2face92f437586"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Typedef Documentation</h2>
<a id="a4efade549f7b2df6a2052dadee44d6f2"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4efade549f7b2df6a2052dadee44d6f2">&#9670;&nbsp;</a></span>ta_cb_receipt_formatter_format_receipt</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef <a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>( * ta_cb_receipt_formatter_format_receipt) (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> terminal, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> receipt_items, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> receipts, void *user_pointer)</td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Format receipt using the provided fields. </p>
<p>Result is a list of <a class="el" href="receipt_8h.html">receipt</a> using "\n" as line breaks.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">terminal</td><td>Object instance of type <a class="el" href="terminal_8h.html">terminal</a> with terminal to retrieve certain field values from. Object instance is not retained. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">receipt_items</td><td>Object instance of type <a class="el" href="receipt__items_8h.html">receipt_items</a> containing items used to create receipt. Object instance is not retained. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">receipts</td><td>Object instance of type <a class="el" href="list_8h.html">list</a> to fill with created receipts. Receipts have to be object instances of type receipt. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">user_pointer</td><td>User pointer value used while creating the formatter. </td></tr>
  </table>
  </dd>
</dl>
<dl class="section return"><dt>Returns</dt><dd>Result code from ta_e_result_code_t. </dd></dl>

</div>
</div>
<a id="a989762a7c404f0bc555cffb1ee1548f3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a989762a7c404f0bc555cffb1ee1548f3">&#9670;&nbsp;</a></span>ta_s_receipt_formatter_t</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef struct <a class="el" href="structta__s__receipt__formatter.html">ta_s_receipt_formatter</a>  <a class="el" href="receipt__formatter_8h.html#a989762a7c404f0bc555cffb1ee1548f3">ta_s_receipt_formatter_t</a></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Struct knowing how to format transaction receipts using receipt item fields. </p>
<p>Use memset to clear struct to 0 then set the callback and user pointer. This struct is only used to initialize the formatter during a call to ta_receipt_formatter_create. Afterwards the callbacks can not be changed anymore as long as the formatter is alive. </p>

</div>
</div>
<h2 class="groupheader">Function Documentation</h2>
<a id="aba7e8ff6b8bece452b2face92f437586"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aba7e8ff6b8bece452b2face92f437586">&#9670;&nbsp;</a></span>ta_receipt_formatter_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_receipt_formatter_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *&#160;</td>
          <td class="paramname"><em>formatter</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="receipt__formatter_8h.html#a989762a7c404f0bc555cffb1ee1548f3">ta_s_receipt_formatter_t</a> *&#160;</td>
          <td class="paramname"><em>configuration</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create receipt formatter. </p>
<p>Caller retains a reference to the created instance. While assigning to a terminal instance the terminal instance retains the reference. The user can release the reference directly afterwards. In this case the formatter is destroyed once no terminal instance requires the formatter anymore.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">formatter</td><td>Pointer to variable to write created object instance to. Created object instance is retained. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">configuration</td><td>Pointer to struct containinig formatter configuration.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance has been created and written to <em>formatter</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>formatter</em> is <em>null-pointer</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>configuration</em> is <em>null-pointer</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_out_of_memory</td><td>Failed allocating memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="receipt__formatter_8h.html">receipt_formatter.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
