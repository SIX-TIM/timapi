<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>TIM SDK: src/sub_transaction.h File Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="navtree.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="resize.js"></script>
<script type="text/javascript" src="navtreedata.js"></script>
<script type="text/javascript" src="navtree.js"></script>
<script type="text/javascript" src="sdk_version.js"></script><script type="text/javascript" src="../../assets/js/sdk_version.js"></script>
<script type="text/javascript" src="api_version.js"></script>
<script type="text/javascript" src="tim_inject.js"></script>
<script type="text/javascript">
  $(document).ready(initResizable);
</script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() {
    if ($('.searchresults').length > 0) { searchBox.DOMSearchField().focus(); }
  });
</script>
<link rel="search" href="search_opensearch.php?v=opensearch.xml" type="application/opensearchdescription+xml" title="TIM SDK"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">TIM SDK
   </div>
   <div id="projectbrief">TIM API C</div>
  </td>
   <td>        <div id="MSearchBox" class="MSearchBoxInactive">
          <div class="left">
            <form id="FSearchBox" action="search.html" method="get">
               
              <input type="text" id="MSearchField" name="query" value="Search" size="20" accesskey="S" 
                     onfocus="searchBox.OnSearchFieldFocus(true)" 
                     onblur="searchBox.OnSearchFieldFocus(false)"/>
            </form>
          </div><div class="right"></div>
        </div>
</td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
</div><!-- top -->
<div id="side-nav" class="ui-resizable side-nav-resizable">
  <div id="nav-tree">
    <div id="nav-tree-contents">
      <div id="nav-sync" class="sync"></div>
    </div>
  </div>
  <div id="splitbar" style="-moz-user-select:none;" 
       class="ui-resizable-handle">
  </div>
</div>
<script type="text/javascript">
$(document).ready(function(){initNavTree('sub__transaction_8h.html','');});
</script>
<div id="doc-content">
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">sub_transaction.h File Reference</div>  </div>
</div><!--header-->
<div class="contents">
<a name="details" id="details"></a><h2 class="groupheader">Description</h2>
<div class="textblock"><p>Sub transaction. </p>
<p>Object type <em>sub_transaction</em>. </p>
</div><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="func-members"></a>
Functions</h2></td></tr>
<tr class="memitem:ad31e9d713cab13f40ad7c862d54ca740"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#ad31e9d713cab13f40ad7c862d54ca740">ta_sub_transaction_create</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *sub_transaction)</td></tr>
<tr class="memdesc:ad31e9d713cab13f40ad7c862d54ca740"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create sub transaction.  <a href="#ad31e9d713cab13f40ad7c862d54ca740">More...</a><br /></td></tr>
<tr class="separator:ad31e9d713cab13f40ad7c862d54ca740"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7c7cbd1b303e74c9753241ee6586aa4e"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a7c7cbd1b303e74c9753241ee6586aa4e">ta_sub_transaction_copy</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *sub_transaction, const <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *source_sub_transaction)</td></tr>
<tr class="memdesc:a7c7cbd1b303e74c9753241ee6586aa4e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Create copy of sub transaction.  <a href="#a7c7cbd1b303e74c9753241ee6586aa4e">More...</a><br /></td></tr>
<tr class="separator:a7c7cbd1b303e74c9753241ee6586aa4e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a04bbc82acfac5e4036181169b56806d0"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a04bbc82acfac5e4036181169b56806d0">ta_sub_transaction_get_function</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, <a class="el" href="transaction__type_8h.html#ab6ee5e4d83de5d339ec03b569082c238">ta_e_transaction_type_t</a> *function)</td></tr>
<tr class="memdesc:a04bbc82acfac5e4036181169b56806d0"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transaction function. Allowed are: purchase, giro, cash_advance.  <a href="#a04bbc82acfac5e4036181169b56806d0">More...</a><br /></td></tr>
<tr class="separator:a04bbc82acfac5e4036181169b56806d0"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4624ac13167172b9729648de202053a8"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a4624ac13167172b9729648de202053a8">ta_sub_transaction_set_function</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, <a class="el" href="transaction__type_8h.html#ab6ee5e4d83de5d339ec03b569082c238">ta_e_transaction_type_t</a> function)</td></tr>
<tr class="memdesc:a4624ac13167172b9729648de202053a8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Transaction function. Allowed are: purchase, giro, cash_advance.  <a href="#a4624ac13167172b9729648de202053a8">More...</a><br /></td></tr>
<tr class="separator:a4624ac13167172b9729648de202053a8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a981fdd9390d904a9350e73928ca173c3"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a981fdd9390d904a9350e73928ca173c3">ta_sub_transaction_get_amount</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *amount)</td></tr>
<tr class="memdesc:a981fdd9390d904a9350e73928ca173c3"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount.  <a href="#a981fdd9390d904a9350e73928ca173c3">More...</a><br /></td></tr>
<tr class="separator:a981fdd9390d904a9350e73928ca173c3"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a450bbbc169973476b6145c54eab8175d"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a450bbbc169973476b6145c54eab8175d">ta_sub_transaction_set_amount</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> amount)</td></tr>
<tr class="memdesc:a450bbbc169973476b6145c54eab8175d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Amount.  <a href="#a450bbbc169973476b6145c54eab8175d">More...</a><br /></td></tr>
<tr class="separator:a450bbbc169973476b6145c54eab8175d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a997aabeb4c32581d498fab1c61fbaa09"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a997aabeb4c32581d498fab1c61fbaa09">ta_sub_transaction_get_rate</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, int *rate)</td></tr>
<tr class="memdesc:a997aabeb4c32581d498fab1c61fbaa09"><td class="mdescLeft">&#160;</td><td class="mdescRight">DCC excange rate.  <a href="#a997aabeb4c32581d498fab1c61fbaa09">More...</a><br /></td></tr>
<tr class="separator:a997aabeb4c32581d498fab1c61fbaa09"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3169d1996c2268601a6b13ffad069378"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#a3169d1996c2268601a6b13ffad069378">ta_sub_transaction_set_rate</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, int rate)</td></tr>
<tr class="memdesc:a3169d1996c2268601a6b13ffad069378"><td class="mdescLeft">&#160;</td><td class="mdescRight">DCC excange rate.  <a href="#a3169d1996c2268601a6b13ffad069378">More...</a><br /></td></tr>
<tr class="separator:a3169d1996c2268601a6b13ffad069378"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aefa21b75e2f8d781071880a0ceee4212"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#aefa21b75e2f8d781071880a0ceee4212">ta_sub_transaction_get_rate_exponent</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, int *rate_exponent)</td></tr>
<tr class="memdesc:aefa21b75e2f8d781071880a0ceee4212"><td class="mdescLeft">&#160;</td><td class="mdescRight">DCC excange rate exponent.  <a href="#aefa21b75e2f8d781071880a0ceee4212">More...</a><br /></td></tr>
<tr class="separator:aefa21b75e2f8d781071880a0ceee4212"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa6e54bc26f9fd66586b26622fb858397"><td class="memItemLeft" align="right" valign="top"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="sub__transaction_8h.html#aa6e54bc26f9fd66586b26622fb858397">ta_sub_transaction_set_rate_exponent</a> (<a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> sub_transaction, int rate_exponent)</td></tr>
<tr class="memdesc:aa6e54bc26f9fd66586b26622fb858397"><td class="mdescLeft">&#160;</td><td class="mdescRight">DCC excange rate exponent.  <a href="#aa6e54bc26f9fd66586b26622fb858397">More...</a><br /></td></tr>
<tr class="separator:aa6e54bc26f9fd66586b26622fb858397"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<h2 class="groupheader">Function Documentation</h2>
<a id="a7c7cbd1b303e74c9753241ee6586aa4e"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a7c7cbd1b303e74c9753241ee6586aa4e">&#9670;&nbsp;</a></span>ta_sub_transaction_copy()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_copy </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *&#160;</td>
          <td class="paramname"><em>source_sub_transaction</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create copy of sub transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sub_transaction</td><td>Pointer to variable to write created object instance to. Created object instance is retained. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">source_sub_transaction</td><td>Object of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a> to create copy of.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance has been created and written to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>null-pointer</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>source_sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>source_sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_out_of_memory</td><td>Failed allocating memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="ad31e9d713cab13f40ad7c862d54ca740"></a>
<h2 class="memtitle"><span class="permalink"><a href="#ad31e9d713cab13f40ad7c862d54ca740">&#9670;&nbsp;</a></span>ta_sub_transaction_create()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_create </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *&#160;</td>
          <td class="paramname"><em>sub_transaction</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Create sub transaction. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[out]</td><td class="paramname">sub_transaction</td><td>Pointer to variable to write created object instance to. Created object instance is retained.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance has been created and written to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>null-pointer</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_out_of_memory</td><td>Failed allocating memory. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a981fdd9390d904a9350e73928ca173c3"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a981fdd9390d904a9350e73928ca173c3">&#9670;&nbsp;</a></span>ta_sub_transaction_get_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_get_amount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a> *&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Amount. </p>
<p>In a request defines the original amount for the transaction (given by ECR), in response the final authorized amount (given by host) in minor units.</p>
<p>In a transaction request this field defines the amount in minor units that shall be authorized for this transaction.</p>
<p>In a transcation response this field defines the amount in minor units that has actually been authorized. If the full amount has been authorized as sent in the transaction request, the value of the &lt;sixml:Amount&gt; field in the request and the response is equal.</p>
<p>PartialApproval: If the transaction has been approved only partially by the aquiring host, the terminal must return on SIXml the actual authorized amount that has been returned from host to terminal in the authorization response.</p>
<p>Example for ep2: The ECR sends an &lt;sixml:Amount&gt;10000&lt;/sixml:Amount&gt; field on SIXml to the terminal in the transaction request and the terminal sends this amount as &lt;ep2:AmtAuth&gt;10000&lt;/ep2:AmtAuth&gt; (=100 CHF) in the authorization request to the ep2 aquiring host. The host then only can partially approve the transaction and returns the partial approval amount &lt;ep2:AmtAuth&gt;8000&lt;/ep2:AmtAuth&gt; (= 80 CHF) in the authorization response to the terminal. The terminal then must return the actually approved amount back to the ECR, &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;8000&lt;/sixml:Amount&gt;</p>
<p>The amount is additionally defined by the corresponding sixml:Currency and sixml:Exponent attributes. An amount can have a negative value, e.g. in case of returning a gas canister.</p>
<p>Example: &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;10000&lt;/sixml:Amount&gt; This is CHF 100.00 Example: &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;-10000&lt;/sixml:Amount&gt; This is CHF -100.00 Specification: <em>banking</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">amount</td><td>Pointer to variable to write object instance to. Object instance is of type <a class="el" href="amount_8h.html">amount</a> and is not retained. Object instance is <em>ta_object_invalid</em> if value is not set in <em>sub_transaction</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance written to <em>amount</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>amount</em> is <em>null-pointer</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a04bbc82acfac5e4036181169b56806d0"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a04bbc82acfac5e4036181169b56806d0">&#9670;&nbsp;</a></span>ta_sub_transaction_get_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_get_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="transaction__type_8h.html#ab6ee5e4d83de5d339ec03b569082c238">ta_e_transaction_type_t</a> *&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transaction function. Allowed are: purchase, giro, cash_advance. </p>
<p>Available if <em>Banking</em> guide is enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">function</td><td>Pointer to variable to write value to. Value is <em>ta_c_tt_undefined</em> if value is not set in <em>sub_transaction</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Value written to <em>function</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>function</em> is <em>null-pointer</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a997aabeb4c32581d498fab1c61fbaa09"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a997aabeb4c32581d498fab1c61fbaa09">&#9670;&nbsp;</a></span>ta_sub_transaction_get_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_get_rate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DCC excange rate. </p>
<p>The DCC amount (sixml:AmuntDcc) will be calculated as follows: transaction amount (sixml:Amount) / DCC rate (sixml:Rate).</p>
<p>Example: &lt;sixml:Amount Currency="EUR" Exponent="2"&gt;2000&lt;/sixml:Amount&gt; and the DCC currency is "CHF", the sixml:Rate="8623328" and sixml:RateExponent="7" =&gt; 20.00 EUR / 0.8623328 =&gt; 23.19 CHF</p>
<p>Optional: Only in multi currency situations Specification: <em>banking</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rate</td><td>Pointer to variable to write value to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance written to <em>rate</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>rate</em> is <em>null-pointer</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aefa21b75e2f8d781071880a0ceee4212"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aefa21b75e2f8d781071880a0ceee4212">&#9670;&nbsp;</a></span>ta_sub_transaction_get_rate_exponent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_get_rate_exponent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int *&#160;</td>
          <td class="paramname"><em>rate_exponent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DCC excange rate exponent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[out]</td><td class="paramname">rate_exponent</td><td>Pointer to variable to write value to.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance written to <em>rate</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>rate_exponent</em> is <em>null-pointer</em>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a450bbbc169973476b6145c54eab8175d"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a450bbbc169973476b6145c54eab8175d">&#9670;&nbsp;</a></span>ta_sub_transaction_set_amount()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_set_amount </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>amount</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Amount. </p>
<p>In a request defines the original amount for the transaction (given by ECR), in response the final authorized amount (given by host) in minor units.</p>
<p>In a transaction request this field defines the amount in minor units that shall be authorized for this transaction.</p>
<p>In a transcation response this field defines the amount in minor units that has actually been authorized. If the full amount has been authorized as sent in the transaction request, the value of the &lt;sixml:Amount&gt; field in the request and the response is equal.</p>
<p>PartialApproval: If the transaction has been approved only partially by the aquiring host, the terminal must return on SIXml the actual authorized amount that has been returned from host to terminal in the authorization response.</p>
<p>Example for ep2: The ECR sends an &lt;sixml:Amount&gt;10000&lt;/sixml:Amount&gt; field on SIXml to the terminal in the transaction request and the terminal sends this amount as &lt;ep2:AmtAuth&gt;10000&lt;/ep2:AmtAuth&gt; (=100 CHF) in the authorization request to the ep2 aquiring host. The host then only can partially approve the transaction and returns the partial approval amount &lt;ep2:AmtAuth&gt;8000&lt;/ep2:AmtAuth&gt; (= 80 CHF) in the authorization response to the terminal. The terminal then must return the actually approved amount back to the ECR, &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;8000&lt;/sixml:Amount&gt;</p>
<p>The amount is additionally defined by the corresponding sixml:Currency and sixml:Exponent attributes. An amount can have a negative value, e.g. in case of returning a gas canister.</p>
<p>Example: &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;10000&lt;/sixml:Amount&gt; This is CHF 100.00 Example: &lt;sixml:Amount Currency='CHF' Exponent='2'&gt;-10000&lt;/sixml:Amount&gt; This is CHF -100.00 Specification: <em>banking</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">amount</td><td>Object instance to set. Object instance can be <em>ta_object_invalid</em> to clear the value in <em>sub_transaction</em>. If object instance is not ta_object_invalid is has to be of type <em>amount</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance assigned to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>amount</em> is not <em>ta_object_invalid</em> and is not of type <a class="el" href="amount_8h.html">amount</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a4624ac13167172b9729648de202053a8"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a4624ac13167172b9729648de202053a8">&#9670;&nbsp;</a></span>ta_sub_transaction_set_function()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_set_function </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="transaction__type_8h.html#ab6ee5e4d83de5d339ec03b569082c238">ta_e_transaction_type_t</a>&#160;</td>
          <td class="paramname"><em>function</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Transaction function. Allowed are: purchase, giro, cash_advance. </p>
<p>Available if <em>Banking</em> guide is enabled.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">function</td><td>Value to set. Value can be <em>ta_c_tt_undefined</em> to clear the value in <em>sub_transaction</em>.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Value assigned to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>function</em> is <em>null-pointer</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>function</em> is not purchase, giro or cash_advance. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="a3169d1996c2268601a6b13ffad069378"></a>
<h2 class="memtitle"><span class="permalink"><a href="#a3169d1996c2268601a6b13ffad069378">&#9670;&nbsp;</a></span>ta_sub_transaction_set_rate()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_set_rate </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rate</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DCC excange rate. </p>
<p>The DCC amount (sixml:AmuntDcc) will be calculated as follows: transaction amount (sixml:Amount) / DCC rate (sixml:Rate).</p>
<p>Example: &lt;sixml:Amount Currency="EUR" Exponent="2"&gt;2000&lt;/sixml:Amount&gt; and the DCC currency is "CHF", the sixml:Rate="8623328" and sixml:RateExponent="7" =&gt; 20.00 EUR / 0.8623328 =&gt; 23.19 CHF</p>
<p>Optional: Only in multi currency situations Specification: <em>banking</em>.</p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rate</td><td>Value to set.</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance assigned to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<a id="aa6e54bc26f9fd66586b26622fb858397"></a>
<h2 class="memtitle"><span class="permalink"><a href="#aa6e54bc26f9fd66586b26622fb858397">&#9670;&nbsp;</a></span>ta_sub_transaction_set_rate_exponent()</h2>

<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="result__code_8h.html#ae860ee870a289833a24a586ba0c24975">ta_e_result_code_t</a> ta_sub_transaction_set_rate_exponent </td>
          <td>(</td>
          <td class="paramtype"><a class="el" href="object_8h.html#abe102de8fe907edeca995e0d4e79b106">ta_object_t</a>&#160;</td>
          <td class="paramname"><em>sub_transaction</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>rate_exponent</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>DCC excange rate exponent. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramdir">[in]</td><td class="paramname">sub_transaction</td><td>Object instance of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
    <tr><td class="paramdir">[in]</td><td class="paramname">rate_exponent</td><td>Value to set</td></tr>
  </table>
  </dd>
</dl>
<dl class="retval"><dt>Return values</dt><dd>
  <table class="retval">
    <tr><td class="paramname">ta_c_rc_ok</td><td>Object instance assigned to <em>sub_transaction</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is <em>ta_object_invalid</em>. </td></tr>
    <tr><td class="paramname">ta_c_rc_invalid_argument</td><td><em>sub_transaction</em> is not of type <a class="el" href="sub__transaction_8h.html">sub_transaction</a>. </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
</div><!-- contents -->
</div><!-- doc-content -->
<!-- start footer part -->
<div id="nav-path" class="navpath"><!-- id is needed for treeview function! -->
  <ul>
    <li class="navelem"><a class="el" href="dir_68267d1309a1af8e8297ef4c3efbcdba.html">src</a></li><li class="navelem"><a class="el" href="sub__transaction_8h.html">sub_transaction.h</a></li>
    <li class="footer">Generated by
    <a href="http://www.doxygen.org/index.html">
    <img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.8.13 </li>
  </ul>
</div>
</body>
</html>
